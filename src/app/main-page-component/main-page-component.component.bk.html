<mat-card class="input-card">
  <mat-card-title>User look up</mat-card-title>
  <form>
    <div class="horizontal-order">
      <mat-form-field class="email-input" appearance="fill">
        <mat-label>Email</mat-label>
        <input
          type="email"
          matInput
          placeholder="Ex. pat@example.com"
          [(ngModel)]="emailInput"
          name="emailInputField"
        />
      </mat-form-field>
      <p class="middle-text">OR</p>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>NFM account</mat-label>
        <input
          matInput
          placeholder="Ex. 325898524"
          [(ngModel)]="accountInput"
          name="accountInputField"
        />
      </mat-form-field>
    </div>
  </form>
  <p *ngIf="showErrorMessage" class="error-message">
    At least one input is required!
  </p>
  <mat-card-actions class="action-button">
    <button (click)="lookup_EVENT()" mat-raised-button color="primary">
      LOOK UP
    </button>
  </mat-card-actions>
</mat-card>

<mat-card class="input-card" *ngIf="showUserInfoSection">
  <mat-card-title>User Information</mat-card-title>
  <mat-divider></mat-divider>
  <div class="horizontal-order">
    <mat-card-content
      *ngIf="loadedUserInfo && loadedUserInfo.length > 0"
      class="user-info-content"
    >
      <p class="user-name">
        {{ loadedUserInfo[0].fName }}
        {{ loadedUserInfo[0].lName }} - {{ loadedUserInfo[0].accountInput }}
      </p>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>Last Name</mat-label>
        <input
          matInput
          placeholder="Ex. Anderson"
          [(ngModel)]="loadedUserInfo[0].lName"
          name="addressInputField"
        />
      </mat-form-field>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>Address</mat-label>
        <input
          matInput
          placeholder="Ex. 1234 Dodge St."
          [(ngModel)]="loadedUserInfo[0].address"
          name="addressInputField"
        />
      </mat-form-field>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>Address 2</mat-label>
        <input
          matInput
          placeholder="Ex. 1234 Dodge St."
          [(ngModel)]="loadedUserInfo[0].address2"
          name="addressInputField"
        />
      </mat-form-field>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>City</mat-label>
        <input
          matInput
          placeholder="Ex. Omaha"
          [(ngModel)]="loadedUserInfo[0].city"
          value="{{ zipCode }}"
          name="cityInputField"
        />
      </mat-form-field>
      <mat-form-field appearance="fill" class="account-id-input">
        <mat-label>State</mat-label>
        <mat-select [(ngModel)]="loadedUserInfo[0].state" name="stateField">
          <mat-option *ngFor="let state of allStates" [value]="state">
            {{ state }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>Zip Code</mat-label>
        <input
          matInput
          placeholder="Ex. 68102"
          [(ngModel)]="loadedUserInfo[0].zipCode"
          name="zipCodeInputField"
        />
      </mat-form-field>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>Phone Number</mat-label>
        <input
          matInput
          placeholder="Ex. 4025448231"
          [(ngModel)]="loadedUserInfo[0].phoneNumber"
          name="phoneInputField"
        />
      </mat-form-field>
    </mat-card-content>
    <mat-card-content
      *ngIf="loadedUserInfo && loadedUserInfo.length > 1"
      class="user-info-content horizontal-card-content"
    >
      <p class="user-name">
        {{ loadedUserInfo[1].fName }}
        {{ loadedUserInfo[1].lName }} - {{ loadedUserInfo[1].accountInput }}
      </p>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>Last Name</mat-label>
        <input
          matInput
          placeholder="Ex. Anderson"
          [(ngModel)]="loadedUserInfo[1].lName"
          name="addressInputField"
        />
      </mat-form-field>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>Address</mat-label>
        <input
          matInput
          placeholder="Ex. 1234 Dodge St."
          [(ngModel)]="loadedUserInfo[1].address"
          name="addressInputField"
        />
      </mat-form-field>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>Address 2</mat-label>
        <input
          matInput
          placeholder="Ex. 1234 Dodge St."
          [(ngModel)]="loadedUserInfo[1].address2"
          name="addressInputField"
        />
      </mat-form-field>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>City</mat-label>
        <input
          matInput
          placeholder="Ex. Omaha"
          [(ngModel)]="loadedUserInfo[1].city"
          value="{{ zipCode }}"
          name="cityInputField"
        />
      </mat-form-field>
      <mat-form-field appearance="fill" class="account-id-input">
        <mat-label>State</mat-label>
        <mat-select [(ngModel)]="loadedUserInfo[1].state" name="stateField">
          <mat-option *ngFor="let state of allStates" [value]="state">
            {{ state }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>Zip Code</mat-label>
        <input
          matInput
          placeholder="Ex. 68102"
          [(ngModel)]="loadedUserInfo[1].zipCode"
          name="zipCodeInputField"
        />
      </mat-form-field>
      <mat-form-field class="account-id-input" appearance="fill">
        <mat-label>Phone Number</mat-label>
        <input
          matInput
          placeholder="Ex. 4025448231"
          [(ngModel)]="loadedUserInfo[1].phoneNumber"
          name="phoneInputField"
        />
      </mat-form-field>
    </mat-card-content>
  </div>
  <p *ngIf="userNotFound" class="error-message">User not found!</p>
  <mat-card-actions *ngIf="!userNotFound" class="action-button">
    <button (click)="update_EVENT()" mat-raised-button color="primary">
      UPDATE
    </button>
  </mat-card-actions>
</mat-card>
